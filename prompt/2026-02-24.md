git管理しているすべてのファイルのそれぞれに対して、変更が加えられたすべてのコミットを調べ、そのコミットメッセージ・コミット日時、ハッシュ値を取得し、json形式で保存したい
想定としては、プロジェクトが一区切りついた段階で1回だけ実行してjsonファイルを作成。その後、jsonファイルを元にドキュメントを作る

制約
- 無料で利用可能
- 特別な考慮の必要なく自由に商用利用可能

対象は指定したブランチ
pythonのpydrillerを使うこと

対象のプロジェクトのルートディレクトリを指定できるようにすること


出力形式

```json
{
    "project_tree": {
        "root": {
            "name": "string", // プロジェクトのルートディレクトリのディレクトリ名
            "root_path": ".",
            "structure": [
                {
                    "type": "file" | "directory",
                    "name": "string",
                    "path": "string", // rootからの相対パス
                    "children": [
                        // typeがdirectoryの場合のみ
                        // 再帰的構造
                    ]
                },
                {
                    "type": "file" | "directory",
                    "name": "string",
                    "path": "string", // rootからの相対パス
                    "children": [
                        // typeがdirectoryの場合のみ
                        // 再帰的構造
                    ]
                }
            ]
        }
    },
    "files": [
        {
            "relative_path": "src/main.py",
            "type": "file",
            "created_at": "2026-02-01T09:30:00Z", // 初回コミットの日時
            "git_history": [
                {
                    "commit_hash": "a1b2c3d4",
                    "commit_message": "Initial commit: add main script",
                    "author_date": "2026-02-01T09:31:20Z",
                    "commit_date": "2026-02-01T09:32:10Z"
                },
                {
                    "commit_hash": "d4e5f6g7",
                    "commit_message": "Refactor main.py to improve logging",
                    "author_date": "2026-02-10T14:10:05Z",
                    "commit_date": "2026-02-10T14:12:50Z"
                }
            ]
        },
        {
            "relative_path": "src/utils/helpers.py",
            "type": "file",
            "created_at": "2026-02-02T11:00:00Z",
            "metadata": {
                "language": "Python" // 拡張子からの簡単な判断(今回はnext.jsアプリを想定)
            },
            "git_history": [
                {
                    "commit_hash": "h8i9j0k1",
                    "commit_message": "Add helper functions for string manipulation",
                    "author_date": "2026-02-02T11:05:30Z",
                    "commit_date": "2026-02-02T11:06:00Z"
                }
            ]
        }
    ],
    "directories": [
        {
            "relative_path": "src/",
            "children": [
                "app/",
                "src/main.py",
                "src/utils/helpers.py"
            ]
        }
    ]
}
```

このjsonファイルを生成するpythonコードを提案してください
